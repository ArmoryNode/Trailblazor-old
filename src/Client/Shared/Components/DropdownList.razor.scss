@import "../../Styles/_all";

$border-radius: 0;
$main-color: $grey;
$item-color: darken($grey, 2);
$active-color: lighten($grey, 2);

.tb-dropdown-list {
    --dropdown-height: 42px;
    --x-padding: 12px;
    --y-padding: 8px;
    position: relative;
    // The main area of the control when it is collapsed
    .tb-dropdown-list-topbar {
        --indicator-width: 10px;
        position: relative;
        display: flex;
        width: var(--dropdown-width);
        height: var(--dropdown-height);
        padding: var(--y-padding) var(--x-padding);
        background-color: $main-color;
        cursor: pointer;
        border-radius: $border-radius;

        @include transition-for(background-color);

        &::after {
            content: '\f0d7'; // fa-caret-down
            position: absolute;
            right: var(--x-padding);
            transform: rotate(0deg);

            @include fas;
            @include transition-for(transform);
        }

        .tb-dropdown-list-topbar-content {
            position: relative;
            width: calc(100% - var(--indicator-width) - var(--x-padding));
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            user-select: none;
        }

        &:hover {
            background-color: $active-color;
        }

        .tb-dropdown-list-placeholder {
            font-style: italic;
        }
    }
    // The list area of the control
    .tb-dropdown-list-body-container {
        position: absolute;
        white-space: nowrap;
        overflow-y: hidden;
        max-height: 0;
        @include transition-for(max-height);

        ul.tb-dropdown-list-body {
            position: relative;
            width: var(--dropdown-width);
            max-height: calc(var(--dropdown-height) * 5);
            list-style: none;
            margin: 0;
            padding: 0;
            overflow-y: auto;

            li.tb-dropdown-list-item {
                height: var(--dropdown-height);
                padding: var(--y-padding) var(--x-padding);
                background-color: $item-color;
                cursor: pointer;
                opacity: 1;
                user-select: none;
                @include transition-for(background-color);

                &:hover {
                    background-color: $main-color;
                }

                &.tb-dropdown-list-item-selected {
                    background-color: $active-color;
                }
            }
        }
    }
    // Styles to apply when the dropdown is opened
    &.tb-dropdown-list-opened {
        .tb-dropdown-list-topbar {
            background-color: $active-color;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;

            &::after {
                transform: rotate(180deg);
            }
        }

        .tb-dropdown-list-body-container {
            max-height: calc(var(--dropdown-height) * 5);

            ul.tb-dropdown-list-body {
                li.tb-dropdown-list-item {
                    opacity: 0;
                    animation-name: fade-in;
                    animation-timing-function: ease;
                    animation-duration: .4s;
                    animation-fill-mode: forwards;
                }
            }
        }
    }

    @keyframes fade-in {
        from {
            opacity: 0;
            transform: translateY(-12px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
}

